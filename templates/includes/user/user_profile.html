{% extends "_base.html" %} {% block content %}
<!doctype html>
<html>
  <head>
    <title>User Profile</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
    />
  </head>
  <body class="bg-gray-100">
    <div
      class="w-full max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 mx-auto mt-10"
    >
      <div class="flex flex-col items-center pb-10 mt-5">
        {% if user.avatar_img %}
        <img
          class="w-24 h-24 mb-3 rounded-full shadow-lg"
          src="{{ user.avatar_img }}"
          alt="{{ user.username }} image"
        />
        {% else %}
        <div
          class="relative inline-flex items-center justify-center w-24 h-24 mb-3 overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600"
        >
          <span class="text-3xl font-medium text-gray-600 dark:text-gray-300"
            >{{ user.get_initials }}</span
          >
        </div>
        {% endif %}
        <h5 class="mb-1 text-xl font-medium text-gray-900 dark:text-white">
          {{ user.username }}
        </h5>
        <span class="text-sm text-gray-500 dark:text-gray-400">
          {{ user.role }}
        </span>
        <div class="flex mt-4 md:mt-6">
          <form method="post" action="{% url 'delete_user' %}">
            {% csrf_token %}
            <button
              type="submit"
              class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-800"
            >
              Delete Profile
            </button>
          </form>
          <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
            <button
              type="submit"
              class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-800"
            >
              Logout
            </button>
          </form>
        </div>
      </div>
    </div>

    <h1>Welcome to the User Page</h1>
    <p>User ID: {{ user_id }}</p>

    <script>
        // Pass the user_id from Django to JavaScript
        const userId = "{{ user_id }}";

        // Log the user_id to the console
        console.log("User ID:", userId);
    </script>
{% endblock %}